(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58dfbb62"],{"31e4":function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login-container"},[t("div",{staticClass:"login-form-wrap"},[e._m(0),t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{rules:e.rules,model:e.form}},[t("el-form-item",{attrs:{prop:"mobile"}},[t("el-input",{attrs:{placeholder:"用户名"},model:{value:e.form.mobile,callback:function(r){e.$set(e.form,"mobile",r)},expression:"form.mobile"}})],1),t("el-form-item",{attrs:{prop:"code"}},[t("el-input",{attrs:{placeholder:"密码","show-password":""},model:{value:e.form.code,callback:function(r){e.$set(e.form,"code",r)},expression:"form.code"}})],1),t("el-form-item",[t("p",[e._v(e._s(e.form.isAgree))]),t("el-checkbox",{attrs:{label:"我已阅读并同意用户协议和隐私条款",name:"type"},model:{value:e.isAgree,callback:function(r){e.isAgree=r},expression:"isAgree"}})],1),t("el-form-item",[t("el-button",{staticClass:"login-btn",attrs:{type:"primary",loading:e.isLoading},on:{click:function(r){return r.preventDefault(),e.handleLogin(r)}}},[e._v(e._s(e.isLoading?"登陆中...":"登陆"))])],1)],1)],1)])},a=[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login-head"},[t("div",{staticClass:"logo"})])}],s=(t("96cf"),t("1da1")),n={name:"Login",data:function(){var e=function(e,r,t){r?t():t(new Error("请同意用户协议~"))};return{isAgree:!1,form:{mobile:"13911111111",code:"246810"},rules:{mobile:[{required:!0,message:"手机号必填",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"手机号格式不对",trigger:"blur"}],code:[{required:!0,message:"验证码必填",trigger:"blur"},{pattern:/^\d{6}$/,message:"验证码不对",trigger:"blur"}],isAgree:[{validator:e,trigger:"change"}]},isLoading:!1}},methods:{handleLogin:function(){var e=this;this.isAgree?this.$refs.loginForm.validate(function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(t){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t){r.next=17;break}return e.isLoading=!0,console.log("axois"),r.prev=3,r.next=6,e.$http.post("/mp/v1_0/authorizations",e.form);case 6:o=r.sent,e.$message.success("登陆成功~"),window.localStorage.setItem("token",o.data.data.token),e.isLoading=!1,e.$router.push(e.$route.query.redirect||"/"),r.next=17;break;case 13:r.prev=13,r.t0=r["catch"](3),e.$message.error("登陆失败,"+r.t0.response.data.message||!1),e.isLoading=!1;case 17:case"end":return r.stop()}}),r,null,[[3,13]])})));return function(e){return r.apply(this,arguments)}}()):this.$message.warning("必须同意用户协议!")}}},i=n,l=(t("aed3"),t("2877")),c=Object(l["a"])(i,o,a,!1,null,null,null);r["default"]=c.exports},"726a":function(e,r,t){},aed3:function(e,r,t){"use strict";t("726a")}}]);
//# sourceMappingURL=chunk-58dfbb62.8460daf2.js.map